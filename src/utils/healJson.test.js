import Focus from './Focus.js';
import healJson from './healJson.js';

// =====================================================================================================================
//  T E S T S
// =====================================================================================================================
const SCHEMA = {
    $id: 'foo',
    type: 'object',
    properties: {
        foo: {type: 'number'},
        bar: {type: 'string', default: 'baz'},
        hello: {
            type: 'object',
            properties: {
                world: {
                    type: 'string',
                    default: 'lorem',
                },
            },
            required: ['world'],
        },
    },
    required: ['foo', 'bar', 'hello'],
};

// =====================================================================================================================
//  T E S T S
// =====================================================================================================================
const tests = [
    // -----------------------------------------------------------------------------------------------------------------
    {
        importance: 1,
        input: {
            json: {
                foo: 6,
                bar: 'hello',
                hello: {
                    world: 'ipsum',
                },
            },
            schema: SCHEMA,
        },
        output: {
            foo: 6,
            bar: 'hello',
            hello: {
                world: 'ipsum',
            },
        },
    },
    // -----------------------------------------------------------------------------------------------------------------
    {
        importance: 1,
        input: {
            json: {
                foo: 6,
            },
            schema: SCHEMA,
        },
        output: {
            foo: 6,
            bar: 'baz',
            hello: {
                world: 'lorem',
            },
        },
    },
];

// =====================================================================================================================
//  R U N
// =====================================================================================================================
Focus.run(healJson, tests, {
    sendInputAsArguments: true,
});
